(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,l=window.wp.components,i=(window.wp.element,window.ReactJSXRuntime);(0,e.registerBlockType)("mg/block-with-image",{title:"Block with Image",icon:"format-image",category:"design",attributes:{content:{type:"string",source:"html",selector:"p"},imageUrl:{type:"string",default:null},imageAlt:{type:"string",default:""}},edit({attributes:e,setAttributes:a}){const{content:n,imageUrl:o,imageAlt:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.BlockControls,{children:o&&(0,i.jsx)(l.ToolbarGroup,{children:(0,i.jsx)(l.ToolbarButton,{onClick:()=>{a({imageUrl:null,imageAlt:""})},children:"Remove Image"})})}),(0,i.jsxs)("div",{className:"block-with-image",children:[(0,i.jsx)(t.RichText,{tagName:"p",value:n,onChange:e=>a({content:e}),placeholder:"Enter text here..."}),(0,i.jsx)("div",{className:"image-upload-wrapper",children:(0,i.jsx)(t.MediaUploadCheck,{children:(0,i.jsx)(t.MediaUpload,{onSelect:e=>{a({imageUrl:e.url,imageAlt:e.alt})},allowedTypes:["image"],value:o||"",render:({open:e})=>o?(0,i.jsx)("img",{src:o,alt:r,onClick:e}):(0,i.jsx)(l.Button,{onClick:e,className:"button button-large",children:"Upload Image"})})})})]})]})},save({attributes:e}){const{content:l,imageUrl:a,imageAlt:n}=e;return(0,i.jsxs)("div",{className:"block-with-image",children:[(0,i.jsx)(t.RichText.Content,{tagName:"p",value:l}),a&&(0,i.jsx)("img",{src:a,alt:n})]})}})})();